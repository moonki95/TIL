# **Chap12. 구글 지도, 네트워크, Open API**

## ** 구글 지도**

### **API 받기**

* Google Maps Activity -> URL 받아서 Google Cloud 접속 -> Google Maps API key 받기

### **카메라와 지도 뷰**

* 카메라를 통해 현재 화면의 지도 뷰를 변경 가능
* CameraPosition.Builder().옵션1.옵션2. build()
* 옵션
  * Target : 지도 중심의 위치, 위도 및 경도 좌표 지정
  * Zoom : 카메라의 줌 레벨에 따라 배율 결정
  * Bearing : 지도의 수직선이 북쪽을 기준으로 시계 방향 단위로 측정되는 방향
  * Tilt : 지도의 중앙 위치와 지구 표면 사이의 원호에서 카메라 위치를 지정

### 마커

* 지도에 위치를 표시하는 것
  * 아이콘 색상, 이미지, 위치 변경 가능
  * 클릭에 대한 코드처리 가능

* 마커 표시 : LatLng 객체로 표현
* 마커 추가 : MarkerOptions 객체로 표현
* 마커 아이콘 변경 : drawable -> png 파일 추가, BitmapDrawable 객체로 변경

### 현재 위치 검색하기

* FusedLocationProviderClient API를 사용
* 의존성 추가


## ** 네트워크**

### **HTTP**

* 웹 상의 서버와 클라이언트인 웹 브라우저와의 데이터 통신이 가능하도록 설계된 표준 규약

### **HTTP의 구조**

* 헤더 및 바디로 구성
  * 헤더 : 명령줄
    * GET : 서버의 정보를 조회
    * POST : 서버에 데이터를 수정하거나 저장
    * PUT : ""
    * DELETE : 서버의 데이터를 삭제
  * 바디 : 실제 데이터가 들어있는 곳
  
### **HttpURLConnection**

* 안드로이드에서 HTTP통신을 하기 위해 HttpsURLConnection 클래스를 지원
* 주소를 URL 객체로 변환하고 변수에 저장 -> openConnection() 메소드 사용하여 서버와의 연결 생성 -> 요청방식 설정(GET,POST ..)-> 응답 데이터 처리 -> 입력 스트림 연결 및 데이터 읽기 -> 스트림 및 커넥션 해제

### **레트로핏 데이터 통신 라이브러리**

* HttpURLConnection보다 적은 양의 코드로 데이터통신을 가능하게 해주는 라이브러리
* 준비사항 
  * 데이터를 가져올 곳(웹사이트 혹은 API 서버)
  * 어떤 데이터를 사용할 것인지 데이터 형식 결정

### **JSON 파일**

* 데이터 통신을 위한 간단한 표준 데이터 형식
* 컴퓨터가 이해하기 쉽고 데이터 용량이 적음
* 구조
  * 세가지 형태의 조합으로 구성
    * JSON 오브젝트
      * { } 로 구성
    * JSON 데이터
      * { "데이터이름":"값"} 로 구성
    * JSON 배열
      * []로 감싸서 배열을 만듬

## **OPEN API 사용하기**

### **OPEN API란**

* 데이터 또는 서비스를 공개해서 일반 개발자들이 사용할 수 있도록 제공하는 인터페이스

### **OPEN API 구조**

* API 도메인 주소 + 문서형식 + 서비스ID + 페이지 + 요청 개수