# **Chap4. 위젯과 리소스 다루기**

## **생명주기**

### 생명주기란?
  * 앱이 실행된 후 다른 액티비티로 화면이 전환되거나 스마트폰이 꺼지고 켜지는 등의 상태 변화가 있을 시 현재 화면에 보이는 액티비티의 생명 주기 메소드를 호출해서 상태 변화를 알려주는 사이클

### 생명주기 메소드

* onCreate
* onStart
* onResume
* onPause
* onStop
* onDestroy 


# **배치를 담당 - 레이아웃**

## 레이아웃이란?
  * lay something out의 펼쳐놓다의 준말로, 일정 공간에 시각적 효과를 고려하여 요소를 배치하는 것을 뜻함
  * 스마트폰에서는 화면 위에 요소를 배치 하는 일이라고 생각하면 됨

## 레이아웃 파일
  * 처음 프로젝트를 만들면 MainActivity.kt 파일과 activity_main.xml파일이 만들어지는데, 이 중 activity_main.xml파일이 이 프로젝트의 레이아웃 파일이라고 함
  

## 레이아웃의 종류
 * **Constraint 레이아웃**
   * 안드로이드의 기본 레이아웃
   * Constraint는 다른 오브젝트를 참조하는 연계작업을 통해 자신의 모양이 결정되는 자동화 컨트롤러
   * 간단한 제약조건(Constraint) 설정만으로 전체 화면을 쉽게 구성할 수 있음
   * <img src="/Kot_study/images/constraint.png" width="700" height="370">
   * **크기조절 핸들러**
     * Wrap Content
       * 위젯의 크기를 내용물의 크기에 맞춰줌
     * Fixed
       * layout_width, layout_height 속성에 입력된 크기로 고정
     * Match Constraints
       * Constraint의 시작과 끝에 맞춰서 크기가 조절됨
   * **바이어스**
     * 상하, 좌우 양쪽이 연결되었을때 바이어스 라는 **위치 조절 버튼**이 활성화가 됨
     * 이 바이어스에서 좌우로 드래그하면 0~100사이의 값으로 변경가능
     * 랩 컨텐트를 좀 자유롭게 움직이게할 수 있음
   * **가로세로비 설정**
     * 설정을 Match Constraints로 설정하면 가로x세로의 비율을 정할 수 있음
   * **레이아웃 툴바**(어떤 레이아웃을 선택했는지에 따라 해당 레이아웃의 툴바가 결정됨)
     * 뷰 옵션
       * 제약조건을 화면에 표시 or 숨김처리
     * 오토 커넥트
       * 오토 커넥트를 켜진 상태로 위젯을 컨스트레인트 레이아웃에 가져다 놓으면 기본 컨스트레인트를 연결해줌
     * 디폴트 마진
       * 컨스트레인트 연결 시 설정한 만큼 기본 마진값 적용
     * 클리어 컨스트레인트
     * 인퍼 컨스트레인트
     * 팩
     * 얼라인
     * 가이드라인
   * 체인으로 연결
     * 컨스트레인트로 연결된 위젯끼리 서로의 위칫값을 공유해서 상대적인 값으로 크기와 위치를 결정
     * 화면 전체를 기준으로 했을때, 화면을 가로에서 세로로 전환해도 위젯의 상대 비율을 유지해줌
   * 가이드라인
     * 컨스트레인트 레이아웃에서만 사용할 수 있는 보조 도구
     * 가로, 세로 두가지 가이드라인이 있는데, 가이드라인을 드래그해서 화면 임의의 위치에 가져다 놓아 레이아웃 안에 배치되는 위젯에 가상의 앵커 포인트를 제공
 * **리니어 레이아웃**
   * 위젯을 가로 or 세로 한줄로 배치하기 위한 레이아웃
   * 리니어 레이아웃을 사용하기 위해선 Activity_main.xml에서 code 부분에 constraint 부분을 LinearLayout으로 바꾸면 됨
   * 리니어 레이아웃 속성
     * Layout_weight 속성
       * 레이아웃 안에 배치되는 위젯의 크기를 비율로 나타낼 수 있는 옵션(기본 설정값 1)
     * Gravity 속성
       * 위젯을 설정된 방향으로 정렬
     * Layout_gravity 속성
       * 자신이 속한 레이아웃을 기준으로 자신의 위치를 설정할 때 사용
       * Gravity는 위젯안에서 정렬, Layout_gravity는 위젯 자체의 정렬
     * 스크롤 뷰
       * 기본적으로 화면크기를 넘어가는 수의 위젯을 놓으면 스크롤은 안되고 잘리게 되는데, 이러한 경우를 방지하기 위해 최상위 레이아웃을 스콜 할 수 있는 요소로 감싸야 함
       * 기본 레이아웃을 스크롤뷰로 변경해서 사용하거나 기본 레이아웃 안에 스크롤뷰를 추가해야 함
       * Activity_main.xml에서 code 부분에 constraint 부분을 ScrollView로 바꿔줌
 * **프레임 레이아웃**
   * 입력되는 위젯의 위치를 결정하기보다 위젯을 중첩해서 사용하기 위한 레이아웃
   * 주로 게임화면의 배경과 플레이어가 서로 다른 레이어에서 겹쳐 움직여야할 때 사용
   * 레이아웃중에 처리 속도가 가장 빠름

# 화면에 그려지는 디자인 요소 - 위젯

## 위젯이란?

  * 위젯은 버튼, 텍스트뷰, 이미지뷰와 같이 화면에 그려지는 디자인 요소
  
## 위젯의 대표 메뉴

  * **Common**
    * 텍스트, 버튼, 레이아웃 등 일반적으로 많이 사용되는 것들을 모아놓은 메뉴
     <img src="/Kot_study/images/Common.png" width="500" height="370">
  * **Text**
    * 글자를 화면에 나타내거나 입력받을 수 있는 위젯을 모아놓은 메뉴
    * 글자를 보여주는 기능만 있는 텍스트뷰, 글자를 입력받을 수 있는 에디트텍스트가 있음 ( 언더바의 유무 )
     <img src="/Kot_study/images/Text.png" width="500" height="370">
  * **Buttons**
    * 사용자로부터 클릭 or 터치 관련 이벤트를 받을 수 있는 위젯의 모음
    * <img src="/Kot_study/images/Button.png" width="500" height="370">
  * **Widgets**
    * 이미지, 웹 사이트, 별점 표시, 진행 상태 등의 정보를 화면에 그리는 위젯 모음
     <img src="/Kot_study/images/Widgets.png" width="500" height="370">
  
## 텍스트뷰
  * 텍스트뷰는 화면에 텍스트를 출력하는 가장 기본적인 위젯
  
  * **사용할 텍스트 정의 및 적용 - text**
    * text 속성에 직접 입력할 수도 있지만 권장하지는 않음
    * 프로젝트 탐색기의 뷰를 Android 상태에서 app-res-values 디렉토리의 strings.xml에 넣어놓고 작업함
     <img src="/Kot_study/images/strings.png" width="500" height="370">
     <img src="/Kot_study/images/strings2.png" width="500" height="370">
  
  * **텍스트 색상 지정하기 - textColor**
    * 텍스트의 색상을 지정할 수 있는 속성
    * RGB를 기준으로 0~255 숫자를 16진수로 입력해서 표현
    * 색상도 문자열과 같이 직접입력하지 않고 colors.xml에 작성된 값을 참조해서 사용
     <img src="/Kot_study/images/text_color.png" width="500" height="370">

  * **텍스트 크기 지정하기 - textSize**
    * 텍스트의 크기를 지정하는 속성
    * 보통 dp, px, sp등과 같은 단위를 사용하는데, 텍스트뷰 및 에디트텍스트는 주로 sp를 사용 ( 같은 해상도에서 문자열의 크기를 다르게 사용하는 경우가 있기 때문 )
    * 크기도 문자열,색상과 같이 직접입력하지 않고 dimens.xml이라는 파일에 입력 후 참조
     <img src="/Kot_study/images/text_size.png" width="500" height="370">

  * **텍스트 스타일 지정하기 - textStyle**
    * 텍스트의 스타일을 설정하는 속성 ( normal, bold, italic )
    * 체크박스를 선택해서 스타일을 적용 

  * **입력 가능한 줄 수 설정하기 - maxLines, minLines**
    * maxLines - 텍스트뷰에 입력 가능한 최대 줄 수를 설정
    * minLInes - 텍스트뷰에 입력 가능한 최소 줄 수를 설정

  * **텍스트뷰 한줄로 보이기 - singleLine**
    * 텍스트뷰를 한 줄로 보이게 하는 속성
    * maxLines 속성을 1로 설정할 때와 다른점은 여러줄이 있을 때 두번째 줄을 없애는게 아니라 개행을 없애 한줄로 보이게 함

  * **말줄임 표시하기 - ellipsize**
    * 텍스트뷰의 maxLines 속성이 1이거나 문자열이 길어서 글자가 잘릴 때 설정
    * ellipsize 속성
      * none : 설정 x
      * start : 텍스트의 첫 부분을 말줄임표로 바꿔줌
      * middle : 텍스트의 중간 부분을 말줄임표로 바꿔줌
      * end : 텍스트의 마지막 부분을 말줄임표로 바꿔줌
      * marquee : 글자가 흐르는 효과를 줌

  * **텍스트 글꼴 지정하기 - fontFamily**
    * 글꼴을 지정하는 속성으로 기본으로 제공하는 글꼴 이외에 외부 폰트도 지정할 수 있음
     <img src="/Kot_study/images/font_family.png" width="500" height="370">

  * **비율로 글꼴 크기 지정하기 - ems**
    * 텍스트뷰의 크기를 나타낼 때 현재 글꼴의 크기를 기준으로 설정하는 상대값
    * 스마트폰에서 글꼴을 줄이거나 늘릴 때 ems를 기준으로 테스트뷰의 크기가 커지거나 작아짐

  * **텍스트뷰 높이 고정하기 - lines**
    * 텍스트뷰의 높이를 고정할 때 사용
    * maxLines는 5로 설정하면 실제 입력값이 1줄이면 1줄만 나타내는반면에 lines는 5줄로 고정됨

  * **텍스트 전체 길이 제한하기 - maxLength**
    * 텍스트의 전체 길이를 제한하는 속성으로 설정한 값만큼의 글자만 보이고 나머지는 보이지 않게 함

## 에디트텍스트

  * 글자를 보여주기도 하지만 주로 입력받는 용도로 사용함 ( ex) 로그인시 ID,PW 입력받는 것 )

  * **에디트텍스트에 입력되는 글자를 실시간으로 처리하기**
    * buildFeatures { viewBinding true } 을 build.gradle에 입력
    * 바인딩 처리하여 "addTextChangedListener" 으로 실시간으로 처리

  * **클릭하면 사라지는 미리보기 - hint**
    * <img src="/Kot_study/images/hint.png" width="500" height="370">
  
  * **키보드 모양 설정하기 - inputType**
     * <img src="/Kot_study/images/inputtype.png" width="370" height="630">
  
## 이미지버튼
  * 백그라운드 이미지 위에 아이콘과 같은 이미지를 추가할 수 있음
  
  * **이미지 크기 설정하기 - scaleType**
    * 이미지버튼뿐 아니라 이미지뷰에서도 많이 사용하며, 여러가지 속성이 존재
      * matrix
      * fitXY
      * fitStart
      * fitCenter
      * fitEnd
      * center
      * centerCrop
      * centerInside
  * **이미지 영역에 색 채우기 - tint**
    * tint는 이미지 영역에 색을 채우는 속성
  * **이미지 투명도 조절하기 - alpha**
  * **라디오그룹 & 라디오 버튼**
    * 라디오 버튼
      * 여러 개의 선택지 중에서 하나만 선택할 때 사용
    * 라디오 그룹
      * 여러개의 라디오 버튼이 모인 그룹
  * **체크박스**
    * 라디오 버튼처럼 여러 개의 선택지가 있지만 하나가 아닌 여러 개를 한 번에 선택할 때 사용
  * **프로그래스바**
    * 현재 진행 상태를 나타내는 위젯
    * 현재진행 중인 용도로 사용, 진척도를 %로 보여줌
  * **시크바**
    * 볼륨을 조절하거나 뮤직플레이어에서 재생 시간을 조절하는 용도로 사용
  * **레이팅바**
    * 별점을 매기는 위젯

## 리소스 다루기

  ### drawable과 단위
  * **DPI**
    * DPI(Dots Per Inch) 는 가로세로 1인치의 정사각형 공간에 들어 있는 픽셀의 숫자를 나타내는 단위
    * 안드로이드는 기본적으로 160DPI 사용
    * 요새는 xxxhdpi(640DPI) 사용
  * **DP**
    * DP(Density-independent Pixels)는 안드로이드에서 사용하는 독립적 수치 단위
    * 해상도와 관계없이 동일한 크기로 화면에 표시하기 위해 사용
  * **SP**
    * 문자열 크기를 나타내기 위해 사용하는 단위
    * 줌인이나 줌아웃시에 다른 위젯에는 영향을 주지 않고 해당 위젯의 글자만 커지거나 작아지게 할 수 있음

  * **drawable 디렉토리**
    * 보통 DPI별로 디렉토리를 만들어서 작업함

  ### mipmap 앱 아이콘 사용하기
  * 앱의 아이콘에 사용하는 용도로 mipmap 디렉토리를 사용
  * 일반 이미지는 drawable폴더에 넣고, 앱 아이콘은 mipmap에 저장
  * mipmap도 drawable처럼 스마트폰 해상도에 맞는 폴더에 맞게 작업